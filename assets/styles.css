/* ====== Design System (Light/Dark) ====== */
* { box-sizing: border-box; }
:root {
  color-scheme: light;
  --bg: #ffffff;
  --surface: #f7f7f9;
  --surface-2: #eef2ff;
  --text: #0f172a;
  --muted: #6b7280;
  --primary: #2563eb;
  --primary-contrast: #ffffff;
  --border: #e5e7eb;
  --ring: rgba(37,99,235,.35);
}
:root.dark {
  color-scheme: dark;
  --bg: #0b0f19;
  --surface: #0f172a;
  --surface-2: #0b1220;
  --text: #e5e7eb;
  --muted: #a1a1aa;
  --primary: #60a5fa;
  --primary-contrast: #0b0f19;
  --border: #1f2937;
  --ring: rgba(96,165,250,.35);
}

body {
  margin: 0; background: var(--bg); color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  min-height: 100vh; display: flex; flex-direction: column;
}

/* ====== Topbar ====== */
.topbar {
  position: sticky; top: 0; z-index: 20;
  display: grid; grid-template-columns: 1fr auto; align-items: center; gap: .75rem;
  padding: .75rem 1rem;
  background: linear-gradient(120deg, rgba(99,102,241,.18), rgba(16,185,129,.12));
  border-bottom: 1px solid var(--border);
  backdrop-filter: saturate(1.25) blur(8px);
}
.brand { font-weight: 800; letter-spacing: .2px; display: inline-flex; align-items: center; gap: .5rem; }
.badge { font-size: .75rem; background: var(--surface-2); border: 1px solid var(--border); padding: .1rem .4rem; border-radius: .4rem; }
.controls { display: flex; gap: .5rem; align-items: center; }
.select-wrap { display: inline-flex; flex-direction: column; gap: .25rem; font-size: .85rem; }
.select-wrap select {
  appearance: none; border: 1px solid var(--border); background: var(--surface); color: var(--text);
  padding: .45rem .7rem; border-radius: .5rem; min-width: 12rem;
}

/* ====== Buttons ====== */
.btn { border: 1px solid var(--border); background: var(--surface); color: var(--text);
  padding: .5rem .75rem; border-radius: .6rem; cursor: pointer; transition: transform .08s ease, box-shadow .2s ease, background .2s ease;
}
.btn:hover { box-shadow: 0 6px 14px rgba(0,0,0,.08); }
.btn:active { transform: scale(0.98); }
.btn.primary { background: var(--primary); border-color: transparent; color: var(--primary-contrast); position: relative; }
.btn.primary::after { content:""; position:absolute; inset:-2px; border-radius:.7rem; box-shadow:0 0 0 0 var(--ring); animation:pulse 2.2s infinite; }
.btn.ghost { background: transparent; }
.btn.sm { padding: .35rem .6rem; border-radius: .5rem; font-size: .85rem; }
.btn[disabled] { opacity: .5; cursor: not-allowed; }
@keyframes pulse { 0%{ box-shadow:0 0 0 0 var(--ring);} 70%{ box-shadow:0 0 0 14px rgba(0,0,0,0);} 100%{ box-shadow:0 0 0 0 rgba(0,0,0,0);} }

/* ====== Layout ====== */
.layout { display: grid; grid-template-columns: 1.25fr .75fr; gap: 1rem; padding: 1rem; }
.pane { background: var(--surface); border: 1px solid var(--border); border-radius: .9rem; overflow: hidden; }

.editor-toolbar { display:flex; gap:.4rem; align-items:center; padding:.5rem; background: var(--surface-2); border-bottom:1px solid var(--border); }
.editor-toolbar .spacer { flex: 1; }
.file-import input { display: none; }

#editor { width: 100%; height: 56vh; }

.io-pane { padding: .75rem; }
.io-grid { display: grid; grid-template-columns: 1fr; gap: .75rem; }
.io-block label { display:block; font-weight:600; margin-bottom:.25rem; }
#stdinInput { width:100%; padding:.6rem; border-radius:.6rem; border:1px solid var(--border); background: var(--bg); color: var(--text); }

.output-header { display:flex; justify-content:space-between; align-items:center; }
.output { background:#0d1117; color:#e5e7eb; padding:.75rem; border-radius:.6rem; min-height:14rem; overflow:auto; }
:root.dark .output { background:#0a0f1f; }
.meta { margin-top:.5rem; font-size:.85rem; color: var(--muted); }

.footer { margin-top:auto; padding:.75rem 1rem; border-top:1px solid var(--border); color:var(--muted); }

/* ====== Responsive ====== */
@media (max-width: 960px) {
  .layout { grid-template-columns: 1fr; }
  #editor { height: 42vh; }
  .select-wrap select { min-width: 10rem; }
}
